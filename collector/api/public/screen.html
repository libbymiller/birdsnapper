<!DOCTYPE html>
<html>
<head>
  <!-- Start iOS Save to homescreen config -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

  <link href="images/apple-touch-icon-precomposed-152x152.png"
        sizes="152x152"
        rel="apple-touch-icon-precomposed">

  <!-- iPad retina portrait startup image -->
  <link href="images/apple-touch-startup-image-1536x2008.png"
        media="(device-width: 768px) and (device-height: 1024px)
               and (-webkit-device-pixel-ratio: 2)
               and (orientation: portrait)"
        rel="apple-touch-startup-image">

  <!-- iPad retina landscape startup image -->
  <link href="images/apple-touch-startup-image-1496x2048.png"
        media="(device-width: 768px) and (device-height: 1024px)
               and (-webkit-device-pixel-ratio: 2)
               and (orientation: landscape)"
        rel="apple-touch-startup-image">

  <!-- iPad non-retina portrait startup image -->
  <!-- <link href="apple-touch-startup-image-768x1004.png"
        media="(device-width: 768px) and (device-height: 1024px)
               and (-webkit-device-pixel-ratio: 1)
               and (orientation: portrait)"
        rel="apple-touch-startup-image"> -->

  <!-- iPad non-retina landscape startup image -->
  <!-- <link href="apple-touch-startup-image-748x1024.png"
        media="(device-width: 768px) and (device-height: 1024px)
               and (-webkit-device-pixel-ratio: 1)
               and (orientation: landscape)"
        rel="apple-touch-startup-image"> -->
  <!-- End iOS Save to homescreen config -->

  <title>WHE</title>

  <link rel="stylesheet" type="text/css" href="/css/normalize.css">
  <link rel="stylesheet" type="text/css" href="/css/skeleton.css">
  <link rel="stylesheet" type="text/css" href="/css/reboundgen.css">
  <link rel="stylesheet" type="text/css" href="/css/screen.css">

  <script src="/faye/client.js"></script>

  <script src="/js/jquery.js"></script>
  <script src="/js/ractive.js"></script>
  <script src="/js/lodash.js"></script>
</head>
<body>
  <div id="ui"></div>
  <script id="ui-update" type="text/ractive">
    <h2>Data Received</h2>
    <p>Update #{{updateId}}</p>
  </script>
  <script id="ui-view" type="text/ractive">
    <div class="view {{outgoingView === name ? 'outgoing' : '' }} {{incomingView === name ? 'incoming' : '' }} {{ currentView == name ? 'current' : '' }}" id="{{name}}">
      {{>content}}
    </div>
  </script>
  <script id="ui-credits" type="text/ractive">
    <View name="credits">
      <h2>Credits</h2>
      <dl>
        <dt>Developers</dt>
        <dd><ul>
          <li>Libby Miller</li><li>Andrew Nicolau</li><li>Dan Nuttall</li>
        </ul></dd>
        <dt>Designers</dt>
        <dd>CC Icon designers go here</dd>
      </dl>
      <p>&copy; 2015 BBC Research and Development</p>
    </View>
  </script>
  <script id="ui-recent-devices" type="text/ractive">
    <View name="recent-devices">
      <h2 class="hd">
        <img src="/images/icons/devices.svg" />
        Most Recent Devices
      </h2>
      <div class="scrollable-frame">
        <table>
          {{#recentDevices}}
            <tr>
              <td>{{shortName}}</td>
              <td>{{id}}</td>
              <td>{{source}}</td>
            </tr>
          {{/recentDevices}}
        </table>
      </div>
    </View>
  </script>
  <script id="ui-images" type="text/ractive">
    <View name="images">
      {{#randomImages:index}}
      <div>
        <img src="{{.}}" id="img-{{index}}" />
      </div>
      {{/randomImages}}
    </View>
  </script>
  <script id="ui-image-totals" type="text/ractive">
    <View name="image-totals">
      <p class="metric">
        <span class="value">{{imageCount}}</span>
        images captured
      </p>
      <p class="metric">
        <span class="value">{{totalCameras}}</span>
         hidden cameras
      </p>
    </View>
  </script>
  <script id="ui-devices" type="text/ractive">
    <View name="devices">
      <h2 class="hd">
        <img src="/images/icons/devices.svg" />
        Total devices
      </h2>
      <div class="scrollable-frame">
        <table>
          {{#deviceTotalsByManufacturer:key}}
            <tr>
              <td>{{name}}</td>
              <td>{{count}}</td>
            </tr>
          {{/}}
          <tr>
            <td>Total</td>
            <td>{{totalDevices}}</td>
          </tr>
        </table>
      </div>
    </View>
  </script>
  <script id="ui-printer" type="text/ractive">
    <View name="printer">
      <h2 class="hd">
        <img src="/images/icons/printer.svg" />
        Now Printing
      </h2>
      <p class="metric">
        <span class="value">{{printCount}}</span>
         times printed
      </p>
      <p class="metric">
        Total print length <span class="value">{{printLength}}</span>cm
      </p>
    </View>
  </script>
  <script id="ui-template" type="text/ractive">
    <div class="wrapper">
      <Images></Images>
      <Devices></Devices>
      <RecentDevices></RecentDevices>
      <Printer printCount={{printCount}}></Printer>
      <ImageTotals></ImageTotals>
      <div class="new-data">
        <div class="new-data-inner {{ isTriggering ? 'flyInBottom' : '' }}">
          New data received
        </div>
      </div>
    </div><!-- .wrapper -->
  </script>
  <script src="js/components.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
